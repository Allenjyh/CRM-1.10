<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1, user-scalable=no">
    <title>租赁信息</title>
    <link rel="stylesheet" href="../../public/rentOrder/css/billingOrderInfo.css">
    <script src="../../public/tool/jquery-3.3.1.min.js"></script>
    <script src="../../public/tool/checkInfo.js"></script>
    <script src="../../public/tool/loading.js"></script>
</head>
<body>
<div id="or_rent" style="height: 100vh;overflow-y: auto">
    <div class="or-centen" style="padding: 20px 0px;border-bottom: 10px solid #FAFAFA;">
        <table class="or-table">
            <caption class="or-Lookup">乙租信息科技有限公司</caption>
            <tbody style="color: #5F5F5F;">
            <tr>
                <td>园区名称：</td>
                <td>广贸商务中心</td>
            </tr>
            <tr>
                <td>房号：</td>
                <td>A区1栋401</td>
            </tr>
            <tr>
                <td>联系电话：</td>
                <td>133 3333 3333</td>
            </tr>
            </tbody>
        </table>
    </div>


    <div class="or-centen" style="padding: 20px 0 0 0;border-bottom: 10px solid #FAFAFA;">
        <table class="or-table or-border-table" style="color: #5F5F5F;">
            <tr>
                <td>面积</td>
                <td>110平方米</td>
            </tr>
            <tr>
                <td>租金</td>
                <td id="or-rentMoney" data-cost="1100.00">1100.00元/月</td>
            </tr>
            <tr>
                <td>管理费</td>
                <td>100元/月</td>
            </tr>
            <tr>
                <td>租期</td>
                <td id="or-rentTime">2018.12.18-2023.12.17 共5年</td>
            </tr>
            <tr>
                <td>交租期</td>
                <td>每月1日-5日 期间</td>
            </tr>
            <tr>
                <td>免租期</td>
                <td id="or-rentFreeTime">14天</td>
            </tr>
            <tr>
                <td>押金</td>
                <td>30000元</td>
            </tr>
            <tr>
                <td>租金递增率</td>
                <td>10.5%（第2年开始，每1年递增）</td>
            </tr>
        </table>
    </div>



    <div class="or-centen" style="padding: 20px 0 0 0;border-bottom: 10px solid #FAFAFA;">
        <table class="or-table or-border-table" style="color: #5F5F5F;">
            <tr>
                <td>水费单价</td>
                <td>6元/吨</td>
            </tr>
            <tr>
                <td>上月水表读数</td>
                <td>200吨</td>
            </tr>
            <tr>
                <td>电费单价</td>
                <td>1.6元/度</td>
            </tr>
            <tr>
                <td>上月电表读数</td>
                <td>190度</td>
            </tr>
            <tr>
                <td>损耗</td>
                <td><span id="or_lossRate">8</span>%</td>
            </tr>
        </table>
    </div>


    <div class="or-centen" style="padding: 20px 0 0 0;border-bottom: 10px solid #FAFAFA;">
        <div>
            <div>
                <span class="or-title" style="padding-left:4%; ">账单明细</span>
                <div style="padding-right:20px;float:right;line-height:44px; ">
                    <span class="add_img"></span>
                </div>
                <span
                    style="color:rgba(26, 140, 255, 1);padding-right:10px;float:right;line-height:44px;">增加收费项目 </span>
            </div>
        </div>
        <table class="or-table or-border-table or-nth-child">
            <tbody  id="add_item">
            <tr>
                <td><b class="or-star">*</b>本月水表读数</td>
                <td><input data-price="6" data-cost="200" class="or-input or-waterRentThis" type="number" placeholder="请输入">吨</td>
            </tr>
            <tr>
                <td><b class="or-star">*</b>摊分水量</td>
                <td><input data-price="6" class="or-input or-waterMeterSpread" type="number" placeholder="请输入">吨</td>
            </tr>
            <tr>
                <td><b class="or-star">*</b>本月电表读数</td>
                <td><input data-price="1.6" data-cost="190" class="or-input or-electricityThis" type="number" placeholder="请输入">度</td>
            </tr>
            <tr>
                <td><b class="or-star">*</b>摊分电量</td>
                <td><input data-price="1.6"  class="or-input or-electricityMeterSpread" type="number" placeholder="请输入">度</td>
            </tr>
            <tr class="add_item1 add_item add_item_old">
                <td style="width: 140px;">
                    <b class="or-star">*</b>
                    <input class="or-input  input_one" style="text-align: left;" placeholder="请输入收费项目名称" maxlength="9" value="项目1"></td>
                <td colspan="2" style="text-align: right;">
                    <input class="or-input" type="number" placeholder="请输入项目总金额" value="123">元 <span class="close_img1 close_img close_img_old"></span>
                </td>
            </tr>
            <tr class="add_item2 add_item add_item_old">
                <td style="width: 140px;">
                    <b class="or-star">*</b>
                    <input class="or-input  input_one" style="text-align: left;" placeholder="请输入收费项目名称" maxlength="9" value="项目2"></td>
                <td colspan="2" style="text-align: right;">
                    <input class="or-input" type="number" placeholder="请输入项目总金额" value="123">元 <span class="close_img2 close_img close_img_old"></span>
                </td>
            </tr>
            </tbody>
            <tfoot>
            <tr>
                <td colspan="2" style="text-align: right;">总计：<span style="color: #EC6C0A;font-size: 13px;">￥<sapn style="font-size: 20px;" id="or-thisMonthPrice">1100.00</sapn></span></td>
            </tr>
            </tfoot>
        </table>
    </div>

    <div class="or-centen" style="padding: 20px 0 0 0;">
        <table class="or-table or-border-table or-nth-child">
            <tr>
                <td><b class="or-star">*</b>开户行</td>
                <td><input class="or-input or-bank" type="text" placeholder="如（广州农村商业银行，白云支行）" style="width: 100%;"></td>
            </tr>
            <tr>
                <td><b class="or-star">*</b>户名</td>
                <td><input class="or-input or-bankName" type="text" placeholder="请输入"></td>
            </tr>
            <tr>
                <td><b class="or-star">*</b>账号</td>
                <td><input class="or-input or-bankAccount" type="text" placeholder="请输入" style="width: 100%;"></td>
            </tr>
        </table>
    </div>







    <div class="or-centen" style="padding: 30px 0 20px 0;">
        <div id="or_subimtBillInfo" class="or-btn">确 定</div>
    </div>
</div>
</body>
<script type="text/javascript" data-main="../../public/rentOrder/js/entrance/propertyAddBillInfo.js" src="../../public/lib/require.js" ></script>
<script>
     var add_itemArry = [];
     var addItem = [];
     var   delItem = [];
    function close_img() {
        // $(e).parents('tr').remove();
        $(me.delItem[0]).on("click", function () {
            $(this).parents('tr').remove();
        });
        $(".close_img_old").on("click", function () {
            $(this).parents('tr').remove();
         });
    };

    let me = this;
    

    $('.add_img').click(function (e) { 
        e.preventDefault();
        var len = "add_item" + me.addItem.length;
        var lenClose = "close_img" + me.addItem.length;

        $('#add_item').append(`<tr class="${len} add_item">
            <td style="width: 130px;"><b class="or-star" >*</b><input class="or-input  input_one" style="text-align: left;" placeholder=" 请输入收费项目名称" maxlength="9"></td>
            <td colspan="2" style="text-align: right;">
                <input  class="or-input " type="number" placeholder=" 请输入项目总金额"
                    >元 <span  class="${lenClose} close_img" onclick="close_img()"></span>
            </td>
        </tr>`);

        me.addItem = [];
        me.delItem = [];

        me.addItem.push($("."+len));

        me.delItem.push($("."+lenClose));  
        console.log( me.delItem[0])     
        me.close_img()
            
    });
    me.close_img()

    // $(".close_img_old").on("click", function () {
    //             $(this).parents('tr').remove();
    //  });
    // console.log( me.delItem[0])     

    
    // $(me.delItem[0]).on("click", function () {
    //     alert(1)
    //     $(this).parents('tr').remove();
    // });
    // 新增其他项目   
    var add_itemOther = []
    $(".add_item").each(function (index) {
        if($(this).find("input").eq(0).val()  && $(this).find("input").eq(1).val()){
            var name =   $(this).find("input").eq(0).val();
            var price =   $(this).find("input").eq(1).val();
            add_itemOther.push({name:name,price:price});
        }
    })

    var array = [5, 4, 3, 2, 1]
    // $.each(array,function (index,element) {
    //         $("body>ul").append("<p>" + element + "&nbsp;&nbsp;&nbsp;&nbsp;" + index + "</p>");
    //     })
    // array.forEach(function(element,index){
    //     $("body>ul").append("<p>" + element + "&nbsp;&nbsp;&nbsp;&nbsp;" + index + "</p>");
    // })
  
    var array = [5, 4, 3, 2, 1]
//   $("body>ul").append("js中的forEach()循环");
          array.forEach(function (element, index) {
             $("body>ul").append("<p>" + element + "&nbsp;&nbsp;&nbsp;&nbsp;" + index + "</p>")  ;
         });
    
</script>
</html>