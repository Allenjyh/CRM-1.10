<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="css/layui.css">
</head>
<style>
    .layui-card-header{
        font-weight: 700;
        font-size: 18px;
    }
    .layui-form-pane .layui-form-label {

        border-style: none;

    }

</style>
<body style="height: 100vh;">
<form class="layui-form" action="">
    <div class="layui-form-item">
        <label class="layui-form-label" style="width: 100%;text-align: left;text-indent: 20px;">增加/删除园区</label>
    </div>

    <div style="padding: 20px; background-color: #F2F2F2;">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md12">
                <div class="layui-card">
                    <div class="layui-card-header">审核园区</div>
                    <div class="layui-card-body test-loading">



                        <table class="yizu-table">
                            <tr>
                                <td>物业绑定手机号/用户id</td>
                                <td>园区名</td>
                            </tr>
                            <tr>
                                <td>
                                    <form class="layui-form layui-form-pane" action="">
                                        <div class="layui-form-item" style="margin-bottom:0px;">
                                            <label class="layui-form-label" style="padding: 0;width: 95px;">
                                                <select id="check_park_select" name="quiz1" style="height: 38px;border-right: 0;border-color: #e6e6e6;display: block;width: 100%;">
                                                    <option value="0" selected="">绑定手机</option>
                                                    <option value="1">绑定id</option>
                                                </select>
                                            </label>
                                            <div class="layui-input-inline">
                                                <input id="check_park_number" type="text" name="username" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" style="border-left: 0px;border-radius: 0px">
                                            </div>
                                        </div>

                                    </form>
                                </td>
                                <td>
                                    <div class="layui-input-inline">
                                        <input id="check_park_name" type="text" name="username" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" style="width: 240px;">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button type="button" class="layui-btn layui-btn-danger is_notCheck">审核不通过</button>
                                    <button type="button" class="layui-btn layui-btn-normal is_doCheck">审核通过</button>
                                </td>
                            </tr>
                        </table>



                    </div>
                </div>
            </div>
        </div>
    </div>

    <div style="padding: 20px; background-color: #F2F2F2;">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md12">
                <div class="layui-card">
                    <div class="layui-card-header">添加园区</div>
                    <div class="layui-card-body test-loading">
                        <table class="yizu-table">
                            <tr>
                                <td>物业绑定手机号/用户id</td>
                                <td>园区名</td>
                            </tr>
                            <tr>
                                <td>
                                    <form class="layui-form layui-form-pane" action="">
                                        <div class="layui-form-item" style="margin-bottom:0px;">
                                            <label class="layui-form-label" style="padding: 0;width: 95px;">
                                                <select id="add_select_park_number" name="quiz1" style="height: 38px;border-right: 0;border-color: #e6e6e6;display: block;width: 100%;">
                                                    <option value="0" selected="">绑定手机</option>
                                                    <option value="1">绑定id</option>
                                                </select>
                                            </label>
                                            <div class="layui-input-inline">
                                                <input id="add_park_number" type="text" name="username" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" style="border-left: 0px;border-radius: 0px">
                                            </div>
                                        </div>

                                    </form>
                                </td>
                                <td>
                                    <div class="layui-input-inline">
                                        <input id="add_park_name" type="text" name="username" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" style="width: 240px;">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button type="button" class="layui-btn layui-btn-normal">前往审核</button>
                                    <button type="button" class="layui-btn add-park">直接添加</button>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div style="padding: 20px; background-color: #F2F2F2;">
        <div class="layui-row layui-col-space15">
            <div class="layui-col-md12">
                <div class="layui-card">
                    <div class="layui-card-header">删除园区</div>
                    <div class="layui-card-body test-loading">
                        <table class="yizu-table">
                            <tr>
                                <td>物业绑定手机号/用户id</td>
                            </tr>
                            <tr>
                                <td>
                                    <form class="layui-form layui-form-pane" action="">
                                        <div class="layui-form-item" style="margin-bottom:0px;">
                                            <label class="layui-form-label" style="padding: 0;width: 95px;">
                                                <select name="quiz1" style="height: 38px;border-right: 0;border-color: #e6e6e6;display: block;width: 100%;">
                                                    <option value="0" selected="">绑定手机</option>
                                                    <option value="1">绑定id</option>
                                                </select>
                                            </label>
                                            <div class="layui-input-inline">
                                                <input id="del-park-number" type="text" name="username" lay-verify="required" placeholder="请输入" autocomplete="off" class="layui-input" style="border-left: 0px;border-radius: 0px">
                                            </div>
                                        </div>

                                    </form>
                                </td>
                            </tr>
                            <tr>
                                <td>
                                    <button type="button" class="layui-btn layui-btn-primary del-park">删除园区</button>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>




</form>
</body>
<script src="js/jquery-1.11.3.min.js"></script>
<script src="js/layer.js"></script>
<script src="js/yizuAjax.js"></script>
<script>
    //审核不通过
    $(".is_notCheck").on("click",function(){

        let checkNumber = $("#check_park_number").val(),
            checkName = $("#check_park_name").val(),
            _val = $("#add_select_park_number").val();

        if(checkNumber == ""){
            layer.msg('你要检查 ‘物业绑定手机号/用户id’是否遗漏了"');
            return;
        }else {
            if(parseInt(_val) == 0){

                if(yizuAjax.validatePhone(checkNumber).status){
                    layer.msg(yizuAjax.validatePhone(checkNumber).msg);
                }

                return ;
            }

        }
        if(checkName == ""){
            layer.msg('你要检查 ‘园区名’是否漏填了');
            return ;
        }



        layer.confirm('审核不通过', {
            title : "审核不通过",
            btn: ['提交'], //按钮
            content : '<div class="test-loading"><textarea class="yizu-textarea" placeholder="请填写不通过原因（50字以内）" maxlength="50"></textarea><label><span class="yizu-max-length">0</span>/50</label></div>',
            area: '380px',
        }, function(index){
            let _index = index
            yizuAjax.tsSubmit({
                url : "",
                type : "",
                data : "",
                callback : "",
                confirm : _index,
            })
        }, function(){

        });

        $(".yizu-textarea").keydown(function () {
            $(".yizu-max-length").text($(this).val().length)
        })

    });



    //ajax
    yizuAjax.tsSubmit({
        url : "",
        type : "",
        ele : '.del-park',
        data : "",
        callback : "",
        beforeCall : function(){
            //数据
            let delNumber = $("#del-park-number").val(),
                _val = $("#add_select_park_number").val();

            if(delNumber == ""){
                return {status:true,msg:"没有‘物业绑定手机号/用户id’删除个鬼啊！！！"}
            }else {
                if(parseInt(_val) == 0){

                    return yizuAjax.validatePhone(delNumber)
                }

            }

        }

    }).tsSubmit({
        url : "",
        type : "",
        ele : '.is_doCheck',
        data : "",
        callback : "",
        beforeCall : function(){
            //数据
            let checkNumber = $("#check_park_number").val(),
                checkName = $("#check_park_name").val(),
                _val = $("#add_select_park_number").val();

            if(checkNumber == ""){
                return {status:true,msg:"你要检查 ‘物业绑定手机号/用户id’是否遗漏了"}
            }else {
                if(parseInt(_val) == 0){

                    return yizuAjax.validatePhone(checkNumber)
                }

            }
            if(checkName == ""){
                return {status:true,msg:"你要检查 ‘园区名’是否漏填了"}
            }
        }
    }).tsSubmit({
        url : "",
        type : "",
        ele : '.add-park',
        data : "",
        callback : "",
        beforeCall : function(){
            //数据
            let addNumber = $("#add_park_number").val(),
                addName = $("#add_park_name").val(),
                _val = $("#add_select_park_number").val();

            if(addNumber == ""){
                return {status:true,msg:"你个糟老头子要检查 ‘物业绑定手机号/用户id’是否遗漏了"}
            }else {
                if(parseInt(_val) == 0){

                    return yizuAjax.validatePhone(addNumber)
                }

            }
            if(addName == ""){
                return {status:true,msg:"你个糟老头子要检查 ‘园区名’是否漏填了"}
            }
        }
    });

</script>
</html>
